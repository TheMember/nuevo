var toggleSearch=document.getElementsByClassName("toggle-search-button")[0],searchContainer=document.getElementById("search-form"),searchInput=document.getElementById("searchInput"),notFoundElem=document.getElementById("searchNotFound");async function onChange(e){var term=e.target.value,results;if(!term)return notFoundElem.style.visibility="hidden",0;var founds=[];for(await fetch("/index.json").then((function(res){return res.json()})).then((function(json){results=json})),i=0;i<results.length;i++)results[i].title.toLowerCase().includes(term.toLowerCase())&&founds.push(results[i]);await setResults(founds)}async function setResults(list){var resultsElement=await document.getElementById("searchResults");resultsElement.innerHTML=await"";var listString="";list.forEach(li=>{listString.includes(li.title)||(listString+=`\n            ${template(li.title,li.permalink,li.date)}\n        `)}),resultsElement.innerHTML=listString,list.length?notFoundElem.style.visibility="hidden":notFoundElem.style.visibility="visible"}function template(title,link,date){var dateFormatted=new Date(date),dd,mm,yyyy;return dateFormatted=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(dateFormatted)+" "+new Intl.DateTimeFormat("en",{month:"long"}).format(dateFormatted)+" "+new Intl.DateTimeFormat("en",{year:"numeric"}).format(dateFormatted),`\n    <div class='search-results__item'>\n    <a class='search-results__item__title' href='${link}'>${title}</a>          \n    <span class='search-results__date'>\n    ${date?dateFormatted:""}\n    </span>\n    </div>\n    `}notFoundElem.style.visibility="hidden",notFoundElem.style.position="absolute",toggleSearch.addEventListener("click",(function(e){searchContainer.setAttribute("class","search-form-container is-active"),document.getElementsByClassName("off-canvas-container")[0].setAttribute("class","off-canvas-container"),setTimeout(()=>{searchInput.focus()},500)})),searchInput.addEventListener("keyup",onChange);